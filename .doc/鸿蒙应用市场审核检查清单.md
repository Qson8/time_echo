# 鸿蒙应用市场审核检查清单

## 📋 基础信息配置

### ✅ 已配置项
- [x] bundleName: `com.qson.TimeEcho`
- [x] versionCode: `1000000`
- [x] versionName: `1.0.0`
- [x] 应用图标已配置
- [x] 签名配置已存在
- [x] 编译模式已配置

### ⚠️ 需要修改项

#### 1. 应用名称配置不规范 ⚠️
**问题**：`ohos/AppScope/resources/base/element/string.json` 中的应用名称为 `"time_echo"`（英文小写）
```json
{
  "name": "app_name",
  "value": "time_echo"  // ❌ 不符合上架要求
}
```

**修复方案**：修改为中文应用名称
```json
{
  "name": "app_name",
  "value": "拾光机"  // ✅ 正确
}
```

#### 2. vendor 信息已修复 ✅
**已修复**：vendor 已设置为 `"TimeEcho"`
```json
{
  "app": {
    "bundleName": "com.qson.TimeEcho",
    "vendor": "example",  // ❌ 示例值
    ...
  }
}
```

**修复方案**：修改为真实开发者名称
```json
{
  "app": {
    "bundleName": "com.qson.TimeEcho",
    "vendor": "您的公司或个人名称",  // ✅ 真实信息
    ...
  }
}
```

## 🔐 签名和证书

### ⚠️ 签名配置检查

**当前配置**：使用了 debugKey 签名
```json
{
  "name": "release",
  "type": "HarmonyOS",
  "material": {
    "keyAlias": "debugKey",  // ⚠️ 调试签名
    "profile": "/Users/son/Desktop/AHEAD/doc/鸿蒙/time_echo_profileRelease.p7b"
  }
}
```

**上架要求**：
- ✅ 必须使用发布签名（Release签名）
- ✅ 不能使用 debugKey
- ⚠️ 需要创建正式的发布证书
- ⚠️ 需要申请华为应用市场的签名证书

### 修复步骤：
1. 在华为开发者联盟申请正式签名
2. 下载发布证书和profile文件
3. 替换 `build-profile.json5` 中的签名配置

## 📱 应用功能

### ✅ 功能完整性
- [x] 应用可以正常启动
- [x] 核心功能（题目测试、收藏、成就）可用
- [x] 离线功能正常
- [x] 设置功能正常

### ⚠️ 已修复的问题
- [x] 鸿蒙平台 SharedPreferences 兼容性
- [x] 设置开关状态持久化
- [x] 收藏功能错误处理

## 📋 权限配置

### 当前权限
```json
"requestPermissions": [
  {"name" : "ohos.permission.INTERNET"}
]
```

### ✅ 权限使用合规性
- [x] 使用了网络权限（实际应用是离线的，可能需要移除）
- [x] 没有请求过多敏感权限
- ⚠️ 建议：如果不使用网络，移除 INTERNET 权限

**修复建议**：
```json
// 如果应用完全离线，可以移除网络权限
"requestPermissions": []
```

## 🔒 隐私合规

### ✅ 隐私政策说明

**隐私政策配置位置**：
- ✅ 应用内已有隐私政策页面（`settings_screen.dart` 中显示）
- ✅ 需要在华为开发者联盟后台提交隐私政策

**重要说明**：
⚠️ 鸿蒙应用市场的隐私政策是在**华为开发者联盟后台**提交时填写，不是在代码配置文件中声明。

**提交审核时需要准备**：
1. 隐私政策文本内容
2. 隐私政策链接（如果有官网）
3. 数据收集说明（本应用声明：**不收集任何数据**）

**建议的隐私政策内容**：
```
拾光机是一款完全离线的怀旧问答应用，尊重并保护用户隐私。
本应用不收集、不上传、不分享任何个人数据或信息。
所有数据（测试记录、收藏、成就）仅存储在本地设备。
本应用无需网络连接，不访问互联网。
用户卸载应用时，所有本地数据将被清除。
```

## 📄 应用描述和截图

### ❌ 缺少上架材料

**需要准备**：
- [ ] 应用描述（中文）
- [ ] 应用截图（至少3张）
- [ ] 应用图标（高质量，512x512）
- [ ] 宣传图/横幅

## 🏪 华为应用市场要求

### 必须满足的条件：

1. **开发者账号** ✅
   - [x] 已在华为开发者联盟注册
   - [x] 完成实名认证

2. **应用审核** ❌
   - [ ] 上传应用包
   - [ ] 填写应用信息
   - [ ] 提交审核

3. **内容合规** ✅
   - [x] 无违法违规内容
   - [x] 无侵权内容
   - [x] 符合鸿蒙平台规范

4. **技术规范** ⚠️
   - [x] 支持 HarmonyOS 4.0+
   - [ ] 适配最新API版本
   - [x] 无崩溃问题（已修复）

## 🛠️ 待修复项优先级

### 🔴 高优先级（必须修复才能上架）
1. ~~**修改应用名称为中文**~~ ✅ 已完成
2. **在华为开发者联盟后台提交隐私政策**（审核时填写）
3. **使用正式签名证书**
4. ~~**修改 vendor 信息**~~ ✅ 已完成

### 🟡 中优先级（建议修复）
1. 移除不必要的网络权限
2. 检查所有硬编码文本是否支持中文
3. 优化应用截图准备

### 🟢 低优先级（可选优化）
1. 添加应用介绍文案
2. 准备宣传素材
3. 优化应用性能

## 📝 修复步骤

### 第一步：修改应用名称
```bash
# 编辑文件
vi ohos/AppScope/resources/base/element/string.json
```

### 第二步：添加隐私政策
创建文件 `ohos/AppScope/resources/base/element/privacy.json5`

### 第三步：修改 vendor 信息
编辑 `ohos/AppScope/app.json5`

### 第四步：重新签名
在华为开发者联盟申请正式签名证书并配置

## ⚠️ 重要提醒

1. **不要使用调试签名**：上架必须使用正式发布签名
2. **隐私政策必须**：华为应用市场强制要求
3. **中文名称必须**：应用名称必须使用中文
4. **测试完整**：确保所有功能在鸿蒙设备上正常

## 📞 后续步骤

完成以上修复后：
1. 重新编译发布包
2. 在华为开发者联盟提交应用
3. 等待审核（通常3-7个工作日）
4. 审核通过后上架

