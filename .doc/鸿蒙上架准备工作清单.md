# 鸿蒙应用市场上架准备工作清单

## ✅ 已完成的修复

### 1. 应用配置
- [x] 应用名称已修改为"拾光机"（中文）
- [x] vendor 已设置为"TimeEcho"
- [x] 隐私政策内容已准备（在华为开发者联盟后台提交）

### 2. 功能修复
- [x] 修复鸿蒙平台设置开关问题
- [x] 修复收藏按钮转圈问题
- [x] 添加完善的错误处理和日志

## ⚠️ 还需要手动完成的工作

### 🔴 必须完成（上架前）

#### 1. 编译错误已修复 ✅

**问题**：privacy.json5 文件格式错误
**解决**：已删除错误文件，隐私政策在华为开发者联盟后台提交

#### 2. 签名证书 ⚠️⚠️⚠️

**当前状态**：使用的是 debugKey 签名
**位置**：`ohos/build-profile.json5`

**操作步骤**：
1. 登录 [华为开发者联盟](https://developer.huawei.com/)
2. 进入"我的应用" > "证书管理"
3. 申请发布证书，或使用已有的企业证书
4. 下载证书文件：
   - `.p12` 文件（签名证书）
   - `.p7b` 文件（Profile文件）
   - `.cer` 文件（证书）
5. 替换 `build-profile.json5` 中的签名配置

**修改文件**：
```json
{
  "name": "release",
  "type": "HarmonyOS",
  "material": {
    "storeFile": "证书.p12路径",
    "storePassword": "证书密码",
    "keyAlias": "证书别名",
    "keyPassword": "密钥密码",
    "signAlg": "SHA256withECDSA",
    "profile": "Profile.p7b路径",
    "certpath": "证书.cer路径"
  }
}
```

#### 2. 应用图标和截图 📱

**需要准备**：
- [ ] 应用图标 512x512 PNG（已存在需确认质量）
- [ ] 启动图标 192x192 PNG
- [ ] 至少3张应用截图
- [ ] 宣传横幅图（可选）

**位置**：
- 当前图标：`ohos/AppScope/resources/base/media/app_icon.png`
- 建议：使用高清PNG格式，无透明背景

#### 3. 应用描述文案 📝

**需要准备**：
- [ ] 应用简介（30-200字）
- [ ] 应用详细介绍（500-2000字）
- [ ] 版本更新说明
- [ ] 应用分类（教育/娱乐等）

**示例**：
```
【应用简介】
拾光机是一款完全离线的怀旧问答应用，通过趣味答题唤醒您的时光记忆。
应用无需网络，保护隐私，专注于提供优质的离线体验。

【主要功能】
- 丰富题库：涵盖影视、音乐、历史等多个主题
- 离线收藏：收藏喜爱的题目，随时回顾
- 成就系统：解锁各类成就徽章
- 老年友好：支持字体大小和老年模式
- 语音读题：支持语音播报题目内容

【特色亮点】
- 完全离线，无需网络
- 隐私安全，数据本地存储
- 界面美观，怀旧风格
- 操作简单，易于使用
```

### 🟡 建议完成（提升通过率）

#### 1. 移除不必要的网络权限 🔐

**当前配置**：
```json
"requestPermissions": [
  {"name" : "ohos.permission.INTERNET"}
]
```

**分析**：应用声明为完全离线，但实际上有同步服务代码
**建议**：
- 如果确实不需要网络，移除该权限
- 如果需要保留同步功能，在隐私政策中说明

#### 2. 测试验证 ✅

**需要测试**：
- [ ] 在真实鸿蒙设备上测试所有功能
- [ ] 测试应用启动速度
- [ ] 测试设置持久化
- [ ] 测试收藏功能
- [ ] 测试应用卸载后的数据清除

#### 3. 内容审核自检 📋

- [ ] 确认无违法违规内容
- [ ] 确认无侵权内容（图片、文字等）
- [ ] 确认隐私政策与实际功能一致
- [ ] 确认应用名称唯一性

## 📦 打包发布步骤

### 1. 编译发布包

```bash
# 进入项目目录
cd /Users/son/Desktop/AHEAD/private/dev/flutter/time_echo

# 清理构建
flutter clean

# 获取依赖
flutter pub get

# 编译鸿蒙应用
flutter build ohos --release
```

### 2. 生成应用包

编译完成后，应用包位置：
```
build/ohos/default/outputs/default/default.hap
```

### 3. 上传到华为应用市场

1. 登录华为开发者联盟
2. 创建新应用
3. 填写应用信息：
   - 应用名称：拾光机
   - 应用分类：教育/娱乐
   - 应用描述：填写准备好的文案
4. 上传应用包
5. 上传截图和图标
6. 确认隐私政策
7. 提交审核

## 🎯 审核要点

### 华为应用市场审核关注点：

1. **功能完整性** ✅
   - 应用能够正常启动
   - 核心功能可用
   - 无明显崩溃

2. **内容合规性** ✅ using padding property.
   - 无违法违规内容
   - 无侵权内容
   - 符合价值观

3. **隐私保护** ✅
   - 隐私政策完整
   - 数据收集说明清楚
   - 用户同意机制

4. **技术要求** ⚠️
   - 使用正式签名
   - 支持最新API
   - 性能达标

5. **用户体验** ✅
   - 界面美观
   - 操作流畅
   - 提示清晰

## ⏱️ 预计时间线

- **签名申请**：1-2个工作日
- **文案准备**：半天
- **截图制作**：半天
- **打包上传**：1小时
- **审核等待**：3-7个工作日
- **总计**：约1-2周

## 📞 需要帮助

如果遇到问题：

1. **华为开发者联盟客服**
   - 邮箱：appgallery@huawei.com
   - 在线客服：[华为开发者联盟官网](https://developer.huawei.com/)

2. **文档资源**
   - [鸿蒙应用上架指南](https://developer.huawei.com/consumer/cn/doc/)
   - [审核规范](https://developer.huawei.com/consumer/cn/doc/)

3. **常见问题**
   - 签名问题：检查证书路径和密码
   - 审核不通过：查看拒绝原因，按要求修改
   - 打包失败：检查编译环境和依赖版本

## ✅ 最终检查清单

提交前请确认：

- [ ] 应用名称：拾光机（中文）
- [ ] vendor：已设置为singing规范的公司名称
- [ ] 隐私政策：已添加并符合要求
- [ ] 签名证书：使用正式发布证书（非debugKey）
- [ ] 应用图标：高质量512x512
- [ ] 应用截图：至少3张
- [ ] 应用描述：完整的文案内容
- [ ] 功能测试：在真实设备上测试通过
- [ ] 错误处理：所有边界情况都有处理
- [ ] 日志输出：生产环境已清理调试日志

完成以上所有项目后，应用就可以提交上架了！🎉

